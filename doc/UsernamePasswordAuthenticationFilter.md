UsernamePasswordAuthenticationFilter

UsernamePasswordAuthenticationFilter顾名思义，用户名密码认证过滤器，是用来处理用户名密码登陆请求的过滤器。默认匹配/login请求，从请求中获取用户名和密码，然后进行认证。如果认证成功则将生成的Authentication对象放入当前线程的SecurityContext，可以查看SecurityContextPersistenceFilter源码分析中SecurityContext的生成过程，然后调用配置的AuthenticationSuccessHandler。如果认证失败则调用AuthenticationFailureHandler。

UsernamePasswordAuthenticationFilter的认证过程相对来说还是比较简单的

根据设置的RequestMatcher判断当前请求是否需要认证
如果需要认证，调用attemptAuthentication方法进行认证
认证成功则将Authentication设置到SecurityContext中然后调用AuthenticationSuccessHandler处理
认证失败则清空SecurityContext中的认证信息然后调用AuthenticationFailureHandler处理
最终的认证处理是委托给AuthenticationManager进行认证的，它内部的认证原理将在下一篇文章中详细分析


在使用登录页面进行登录和登出的时候，默认会生成登录页面和登出页面,该页面也是通过Filter进行生成，即DefaultLoginPageGeneratingFilter和DefaultLogoutPageGeneratingFilter,而配置该Filter的分别为DefaultLoginPageConfigurer和DefaultLoginPageConfigurer，这两个类比较建单，不再赘述。


UsernamePasswordAuthenticationFilter是由FormLoginConfigurer进行配置的，所以我们首先看一下FormLoginConfigurer